# 10_도커 이미지 삭제

컨테이너를 삭제하더라도 컨테이너를 생성하는 데 사용되었던 이미지는 시스템에 그대로 남아 있습니다. 시간이 지나면서 사용하지 않는 이미지가 쌓이면 디스크 저장 공간을 차지하게 되므로, 불필요한 이미지는 주기적으로 삭제하여 관리하는 것이 좋습니다.

## 1. 이미지 삭제 전 확인 사항

이미지를 삭제하기 전에 다음 사항들을 반드시 확인해야 합니다.

* **연관된 컨테이너 확인:** 삭제하려는 이미지로 실행 중이거나 정지된 컨테이너가 있는지 확인해야 합니다. `docker ps -a` 명령어를 사용하여 컨테이너 목록을 출력하고, 해당 이미지를 사용하는 컨테이너가 있다면 먼저 해당 컨테이너를 정지 및 삭제해야 합니다.
* **이미지 사용 여부:** 삭제하려는 이미지가 다른 컨테이너를 생성하는 데 사용되고 있지 않은지 확인합니다.

## 2. `docker image rm` 명령어

도커 이미지를 삭제하려면 `docker image rm` 명령어를 사용합니다. 삭제하려는 이미지를 이미지 ID 또는 이미지 이름으로 지정할 수 있습니다.

```bash
docker image rm 이미지_이름_또는_ID
여러 이미지 한 번에 삭제:

여러 개의 이미지를 동시에 삭제하려면 이미지 이름 또는 ID를 공백으로 구분하여 나열합니다.

docker image rm 이미지_이름_또는_ID1 이미지_이름_또는_ID2 이미지_이름_또는_ID3
3. 이미지 목록 확인: docker image ls
이미지를 삭제하기 위해서는 삭제하려는 이미지의 이름 또는 ID를 알아야 합니다. docker image ls 명령어는 현재 시스템에 저장된 이미지 목록과 관련 정보를 보여줍니다.

docker image ls
출력 정보:

docker image ls 명령어를 실행하면 다음과 같은 정보가 출력됩니다.

항목	설명
REPOSITORY	이미지의 이름입니다.
TAG	이미지의 버전 정보입니다. 이미지를 내려받을 때 특정 버전을 지정하지 않으면 기본적으로 latest 태그의 최신 버전을 내려받습니다.
IMAGE ID	이미지의 고유한 식별자입니다.
CREATED	이미지가 생성된 후 경과된 시간입니다.
SIZE	이미지의 전체 용량입니다.
4. 이미지 버전 지정
특정 버전의 이미지를 사용해야 하는 경우, 이미지 이름과 함께 태그(버전)를 지정하여 사용할 수 있습니다.

이미지 버전 지정 형식:

이미지_이름:버전_넘버
예시:

docker run nginx:1.21  # nginx 이미지의 1.21 버전 실행
docker image pull ubuntu:20.04 # ubuntu 이미지의 20.04 버전 다운로드

주의: 컨테이너가 해당 이미지를 사용 중인 경우 이미지를 삭제할 수 없습니다. 먼저 해당 이미지로 실행된 모든 컨테이너를 삭제해야 합니다.