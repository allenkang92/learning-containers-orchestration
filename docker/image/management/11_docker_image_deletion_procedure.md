# 11_도커 이미지 삭제 절차

도커 이미지를 삭제하는 것은 저장 공간을 효율적으로 관리하는 데 중요한 과정입니다. 이미지를 삭제하기 전에는 몇 가지 단계를 거쳐야 안전하게 삭제할 수 있습니다.

## 1. 삭제할 이미지 확인 및 연관 컨테이너 확인

이미지를 삭제하기 전에, 먼저 삭제하려는 이미지로 실행된 컨테이너가 있는지 확인해야 합니다. `docker ps -a` 명령어를 사용하여 모든 컨테이너 목록을 확인합니다.

```bash
docker ps -a
이 명령어를 실행하면 현재 실행 중이거나 정지된 모든 컨테이너의 목록이 출력됩니다. 삭제하려는 이미지와 연결된 컨테이너가 있는지 IMAGE 컬럼을 통해 확인합니다.

2. 연관 컨테이너 삭제
삭제하려는 이미지로 실행 중인 컨테이너가 있다면, 해당 컨테이너를 먼저 삭제해야 합니다.

2.1. 컨테이너 정지 (실행 중인 경우)
만약 컨테이너가 실행 중인 상태(STATUS가 Up으로 표시되는 경우)라면, 먼저 docker stop 명령어를 사용하여 컨테이너를 정지시켜야 합니다.

docker stop 컨테이너_이름_또는_ID
컨테이너_이름_또는_ID 부분에는 삭제하려는 이미지로 실행 중인 컨테이너의 이름 또는 ID를 입력합니다.

2.2. 컨테이너 삭제
컨테이너가 정지된 후에는 docker rm 명령어를 사용하여 컨테이너를 삭제합니다.

docker rm 컨테이너_이름_또는_ID
3. 이미지 목록 확인
컨테이너를 모두 삭제했다면, 이제 실제로 삭제할 이미지의 이름 또는 ID를 확인하기 위해 docker image ls 명령어를 실행하여 현재 시스템에 존재하는 이미지 목록을 출력합니다.

docker image ls

이 명령어를 통해 삭제하려는 이미지의 REPOSITORY (이미지 이름) 또는 IMAGE ID를 확인할 수 있습니다.

4. 이미지 삭제
docker image rm 명령어를 사용하여 이미지를 삭제합니다. 이미지 이름 또는 이미지 ID를 사용하여 이미지를 지정할 수 있습니다.

docker image rm 이미지_이름_또는_ID

예를 들어, nginx 이미지를 삭제하려면 다음과 같이 입력합니다.

docker image rm nginx
5. 이미지 삭제 확인
이미지 삭제가 완료되었는지 확인하기 위해 docker image ls 명령어를 다시 실행합니다.

docker image ls

삭제한 이미지가 목록에 나타나지 않으면 이미지 삭제가 성공적으로 완료된 것입니다.

주의: 이미지를 삭제하기 전에 해당 이미지로 실행 중인 컨테이너가 없는지 확인하는 것은 매우 중요합니다. 실행 중인 컨테이너가 있는 이미지는 삭제할 수 없습니다.