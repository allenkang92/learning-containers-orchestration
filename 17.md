도커 컴포즈

시스템 구축과 관련된 명령어를 하나의 텍스트 파일(정의 파일)에 기재해 명령어 한 번에 시스템 전체를 실행하고 종료와 폐기까지 한 번에 하도록 도와주는 도구

도커 컴포즈의 구조

도커 컴포즈는 시스템 구축에 필요한 설정을 YAML(YAML Ain’t a Markup Language) 포맷으로 기재한 정의 파일을 이용해 전체 시스템을 일괄 실행 또는 일괄 종료 및 삭제할 수 있는 도구

정의 파일에는 컨테이너나 볼륨을 어떠한 설정으로 만들지에 대한 항목이 기재되어 있다.

작성 내용은 도커 명령어와 비슷하지만 도커 명령어는 아니다.

up 커맨드는 docker run 커맨드와 비슷. 정의 파일에 기재된 내용대로 이미지를 내려받고 컨테이너를 생성 및 실행한다.

정의 파일에는 네트워크나 볼륨에 대한 정의도 기재할 수 있어서 주변 환경을 한꺼번에 생성할 수 있다.

down 커맨드는 컨테이너와 네트워크를 정지 및 삭제한다. 볼륨과 이미지는 삭제하지 않는다. 컨테이너와 네트워크 삭제 없이 종료만 하고 싶다면 stop 커맨드를 사용한다.

도커 컴포즈와 Dockerfile 스크립트의 차이점

도커 컴포즈는 텍스트 파일에 기재된 정의를 따라 실행된다.

도커 컴포즈는 docker run 명령어를 여러 개 모아놓은 것과 같다. 컨테이너와 주변 환경을 생성한다. 네트워크와 볼륨까지 함께 만들 수 있다.

반면 Dockerfile 스크립트는 이미지를 만들기 위한 것으로 네트워크나 볼륨은 만들 수 없다.

만드는 대상이 다르다.

도커 컴포즈와 쿠버네티스의 차이점

쿠버네티스는 도커 컨테이너를 관리하는 도구인 만큼 여러 개의 컨테이너를 다루는 것과 관계가 깊다. 따라서 도커 컴포즈와도 혼동하기 쉽다. 하지만 쿠버네티스는 컨테이너를 관리하는 도구인 데 비해 도커 컴포즈의 기능은 컨테이너를 생성하고 삭제하는 것뿐으로, 컨테이너 관리 기능은 없다.