컨테이너 개조

컨테이너를 개조하는 방법

파일 복사와 마운트를 이용한 방법, 컨테이너에서 리눅스 명령어를 실행해서 소프트웨어를 설치하거나 설정을 변경하는 방법

컨테이너에서 명령어를 실행하려면 셸이 필요하다

컨테이너에서 리눅스 명령어를 실행하려면 리눅스에 명령을 전달해주는 프로그램인 Shell이 있어야 한다.

bash를 실행하는 인자

/bin/bash

docker exec는 컨테이너 속에서 명령어를 실행하는 커맨드

실행 중인 컨테이너에 run 커맨드를 사용할 수 없기에 사용한다.

bash를 사용한 컨테이너 조작이 끝나고 나면 docker start 커맨드로 컨테이너를 재시작해야 한다.

docker exec (옵션) 컨테이너_이름 /bin/bash

docker run (옵션) 이미지_이름 /bin/bash

bash를 통해서 컨테이너 내부를 조작하는 동안에는 도커 명령을 사용할 수 없다

컨테이너를 만들고 삭제하거나 컨테이너 자체에 대한 명령은 도커 엔진을 통하는 것. 컨테이너 내부를 다루는 명령은 bash를 통한다.

컨테이너 안에서 할 일을 마쳤다면 다시 컨테이너에서 나와야 한다. 

컨테이너에서 돌아가려면 exit 명령어를 사용한다.

exit 명령어로 컨테이너에서 나오면 다시 도커 엔진에 명령을 내릴 수 있다.

도커의 구조, 도커 엔진을 통해야 하는 명령과 컨테이너 안에서 실행해야 하는 명령

도커 엔진을 통해야 하는 명령

부모에 해당하는 도커 엔진을 통해야 하는 명령은 도커 엔진 자체의 시작 또는 종료, 네트워크, 디스크 설정, 실행 중인 컨테이너 목록 확인 등 컨테이너 전체에 대한 관리 작업이다.

컨테이너 생성과 실행, 종료, 이미지 내려받기 등도 포함

컨테이너 내부에서 실행하는 명령은 컨테이너 속에 새로운 소프트웨어를 추가하거나, 컨테이너 속 소프트웨어의 실행 및 종료, 설정 변경, 컨테이너 안과 밖의 파일 복사 및 이동, 삭제 작업이다.

도커 엔진을 통한 명령

도커 엔진의 시작 또는 종료

컨테이너의 시작 및 종료

컨테이너 안팎의 파일을 복사

컨테이너 내부에서 실행하는 명령

소프트웨어 설치

소프트웨어 실행, 종료

소프트웨어 설정 변경

파일 작업